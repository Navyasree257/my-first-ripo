<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Custom Cake Order</title>
<style>
  body {
    font-family: Arial, sans-serif;
    background: linear-gradient(120deg, lightpink, lightblue, lightyellow);
    text-align: center;
    padding: 20px;
  }
  .container {
    background: white;
    padding: 20px;
    border-radius: 12px;
    width: 320px;
    margin: auto;
    box-shadow: 0 0 10px rgba(0,0,0,0.2);
  }
  input, button {
    width: 100%;
    padding: 10px;
    margin: 8px 0;
    font-size: 16px;
  }
  button {
    background: #ff7f50;
    color: white;
    border: none;
    cursor: pointer;
    border-radius: 6px;
  }
  button:hover {
    background: #e0663d;
  }
  .loading {
    font-size: 20px;
    font-weight: bold;
    animation: blink 1s infinite;
  }
  @keyframes blink {
    50% { opacity: 0.5; }
  }
  .tick {
    font-size: 60px;
    color: green;
  }
  img {
    max-width: 100%;
    border-radius: 8px;
    margin-top: 10px;
  }
</style>
</head>
<body>

<!-- Page 1: Customer Order -->
<div id="page1" class="container">
  <h2>üç∞ Customer Order</h2>
  <input type="text" id="cakeName" placeholder="Enter Cake Name" required>
  <input type="file" id="cakeImage" accept="image/*" required>
  <button onclick="goToAdmin()">Next</button>
</div>

<!-- Loading after customer -->
<div id="loading1" class="container" style="display:none;">
  <p class="loading">Loading... Please wait</p>
</div>

<!-- Page 2: Admin Panel -->
<div id="page2" class="container" style="display:none;">
  <h2>üíº Admin Panel</h2>
  <input type="number" id="cakePrice" placeholder="Enter Price (‚Çπ)" required>
  <button onclick="confirmOrder()">Confirm Price</button>
</div>

<!-- Loading after admin -->
<div id="loading2" class="container" style="display:none;">
  <p class="loading">Processing Order...</p>
</div>

<!-- Page 3: Order Confirmed -->
<div id="page3" class="container" style="display:none;">
  <h2>‚úÖ Order Confirmed</h2>
  <div class="tick">‚úî</div>
  <p id="finalCakeName"></p>
  <img id="finalCakeImage" alt="Cake Image">
  <p id="finalCakePrice"></p>
  <p>Thank you for your order!</p>
</div>

<script>
let cakeName = "";
let cakeImageData = "";
let cakePrice = "";

// Customer to Admin
function goToAdmin() {
  let nameInput = document.getElementById("cakeName").value.trim();
  let imageFile = document.getElementById("cakeImage").files[0];

  if (nameInput === "" || !imageFile) {
    alert("Please enter cake name and upload an image.");
    return;
  }

  cakeName = nameInput;

  // Read image as Base64
  let reader = new FileReader();
  reader.onload = function(e) {
    cakeImageData = e.target.result;

    document.getElementById("page1").style.display = "none";
    document.getElementById("loading1").style.display = "block";

    setTimeout(() => {
      document.getElementById("loading1").style.display = "none";
      document.getElementById("page2").style.display = "block";
    }, 2000);
  };
  reader.readAsDataURL(imageFile);
}

// Admin to Confirmation
function confirmOrder() {
  let priceInput = document.getElementById("cakePrice").value.trim();
  if (priceInput === "") {
    alert("Please enter the price.");
    return;
  }

  cakePrice = "Price: ‚Çπ" + priceInput;

  document.getElementById("page2").style.display = "none";
  document.getElementById("loading2").style.display = "block";

  setTimeout(() => {
    document.getElementById("loading2").style.display = "none";
    document.getElementById("page3").style.display = "block";

    document.getElementById("finalCakeName").textContent = "Cake Name: " + cakeName;
    document.getElementById("finalCakeImage").src = cakeImageData;
    document.getElementById("finalCakePrice").textContent = cakePrice;
  }, 2000);
}
</script>

</body>
</html>